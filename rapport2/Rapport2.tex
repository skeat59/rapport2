
\documentclass [11pt]{report}

\usepackage{fancyhdr}
\usepackage [french]{babel}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{graphicx}
\usepackage[a4paper]{geometry}
\usepackage{titlepic}
\usepackage{boxedminipage}
\usepackage{listings}
\usepackage{minitoc}
\usepackage{footmisc}
\usepackage{color}
\usepackage{graphicx}
\usepackage{fancyvrb}

\usepackage{eso-pic}

\makeatletter
\newlength\@tempdim@x
\newlength\@tempdim@y
% structure des commandes :
%   #1 = deplacement selon x
%   #2 = deplacement selon y
%   #3 = texte à mettre
\newcommand\AtUpperLeftCorner[3]{%
\begingroup
\@tempdim@x=0cm
\@tempdim@y=\paperheight
\advance\@tempdim@x#1
\advance\@tempdim@y-#2
\put(\LenToUnit{\@tempdim@x},\LenToUnit{\@tempdim@y}){#3}%
\endgroup
}
\newcommand\AtUpperRightCorner[3]{%
\begingroup
\@tempdim@x=\paperwidth
\@tempdim@y=\paperheight
\advance\@tempdim@x-#1
\advance\@tempdim@y-#2
\put(\LenToUnit{\@tempdim@x},\LenToUnit{\@tempdim@y}){#3}%
\endgroup
}
\newcommand\AtLowerLeftCorner[3]{%
\begingroup
\@tempdim@x=0cm
\@tempdim@y=0cm
\advance\@tempdim@x#1
\advance\@tempdim@y#2
\put(\LenToUnit{\@tempdim@x},\LenToUnit{\@tempdim@y}){#3}%
\endgroup
}
\newcommand\AtLowerRightCorner[3]{%
\begingroup
\@tempdim@x=\paperwidth
\@tempdim@y=0cm
\advance\@tempdim@x-#1
\advance\@tempdim@y#2
\put(\LenToUnit{\@tempdim@x},\LenToUnit{\@tempdim@y}){#3}%
\endgroup
}
% ajout de texte ou d'images en haut à gauche, en haut à droite, etc.
\AddToShipoutPicture{%
\AtLowerRightCorner{3cm}{1cm}{\includegraphics[scale=0.20]{images/LogoGroupe.png}}% image en bas à droite
}
\makeatother

\pagestyle{fancy}





\title{
	\includegraphics[scale=0.43]{images/Logojeu.png}
	 \\\vspace{20mm}
	\textbf{\Huge \itshape Rapport de seconde soutenance  }
	}




\author{ \\\vspace{2mm}
	Thibault Gdalia\\\vspace{2mm}
	Florent Youinou\\\vspace{2mm}
	Mathilde Laplaze\\\vspace{2mm}
	Vincent Baille \\\vspace{30mm}
	}


\date{17 janvier 2014}


\usepackage{listings,mdframed,xcolor}
\definecolor{codeBackground}{rgb}{0.95, 0.95, 0.95} %Couleur du rectangle%


\lstnewenvironment{mylisting}{
  \lstset{
  }
  \mdframed[backgroundcolor=codeBackground,shadow=false,shadowsize=2pt,shadowcolor=black!30]
}
{
  \endmdframed\ignorespaces
}


\begin{document}
\thispagestyle{fancy}
\renewcommand{\baselinestretch}{0.001}
\maketitle
\tableofcontents

\chapter*{Introduction} 
Dans le cadre de notre premi\`ere année d'étude \`a EPITA, nous avons un projet informatique \`a réaliser tout au long du deuxi\`eme semestre. Nous sommes au milieu de la période prévu pour la réalisation de ce jeu. \\

Notre groupe de projet est toujours au complet, personne n'a quitté l'école depuis la derni\`ere soutenance. Petit Rappel, notre équipe est composée de 4 membres: Mathilde "Mattou" Laplaze, Florent "T4ze" Youinou, Vincent "Vincae" Baille et Thibault "Skeat" Gdalia. Lors de ce deuxi\`eme rapport, nous allons voir les différentes évolutions que nous avons apportées au jeu. Nous commencerons tout d'abord par rappeler ce que nous avions lors de la premi\`ere soutenance, l'état du moteur physique, les différents mode de jeu et l'éditeur de maps. Nous verrons par la suite les différents éléments que nous avons modifiés, puis nous finirons sur les nouveautés, c'est-\`a-dire ce qui n'exister pas avant.




\chapter{Ce que nous avions}
	\section{Les différents mode de jeu}
		Lors de la soutenance précédente, deux modes de jeu étaient disponibles: le mode story et le mode infini.
		\subsection{Story}
			Dans le mode story, une unique map était disponible. Ainsi vous deviez parcourir cette map jusqu'à la ligne d'arrivée pour gagner. De plus, si par malheur vous sortiez de l'écran par la gauche \`a-force de vous cogner contre des blocs ou pour une autre raison, vous aviez perdu et vous eties bon pour recommencer. Ce type de partie n'était pas trés intéressant car lorsque vous finissiez la map, vous aviez fini ce mode de jeu. \\
			
			
			
			
			
			\subsection{Infini}
			Ce mode de jeu est lég\`rement différent, bien que la façon de jouer reste la m\^eme, le but du jeu differe legerement. Dans ce mode-ci, il n'y a pas de monde \`a valider puisqu'il n'y a tout simplement pas de fin. Le but est donc evidemment d'aller le plus loin possible. Une des particularitée de ce mode est que si l'on a deja cree un compte sur le site web officiel du jeux : www.CandyBird.eu, il nous est possible de nous connecter depuis le menu principal. Suite a cette connexion, notre score sera automatiquement envoye en ligne sur notre page de Classement (si vous avez fais un meilleur score que le precedent evidemment).\\
			
			Lors de notre premiere version du jeux, les blocs present sur la map etait généré de facon aleatoire tout en suivant un pourcentage fixe. Le probleme est que, avec cette implementation, le mode infini devenait vraiment complique puisque certains passages etait tout bonnement impossible a franchir. 
			
			
	\section{Moteur physique}
		\indent Le Moteur physique était assez rudimentaire lors de la premi\`ere soutenance, lorsque l'on appuyait sur la barre espace l'oiseaumontait \`a vitesse constante. Sinon, le personnage redescendait tranquillement en planant \`a l'aide de ses petites ailes, toujours \`a la meme vitesse. Cela formait des trianglesEn cr\'ant les lois physique de notre jeu nous n'avions pas anticip'e le fait que nous voudrions le changer. C'est principalement pour cette raison que nous avions décidé de refaire intégralement le moteur physique, nous entrerons dans les détails de ces modifications plus tard dans ce rapport, dans la partie des modifications.\\
		\indent Il y avait également quelques probl\`emes dans certains cas de collision, que n'avions pas pris en compte. Par exemple lorsque l'oiseau touchait un bloc de face et qu'il avait un bloc au-dessus de lui, il était possible de traverser les blocs, ce probl\`eme permettait au joueur de tricher et d'éviter de mourir.\\
		
		
	\section{Site internet}
		Notre site internet était déj\`a en ligne lors de la premi\`ere soutenance, et il était assez bien complet. vous pouvez y trouver la description de notre projet, une courte  présentation de chaque membre de l'équipe ainsi que quelques photos du jeu. Sur la page de télécharchement, vous pouvez récupérer notre cahier des charges et le rapport de la soutenance 1. Sur notre site vous avez egalement la possibilite de vous inscrire si vous voulez par la suite vous connecter au jeu. Pour finir, une page de classement des joueurs vous permet de comparer votre score avec les autres. 
		
	\section{Graphismes}	
		Lors de la soutenance précédente nous avions déj\`a un grand nombre de graphisnes disponibles, tels que les fonds des menus, les sprites de l'oiseau, les différents boutons du jeux ainsi que les boutons de l'éditeur de maps. Nous avons créé un univers coloré autour de notre projet, ceci n'a pas changé depuis nous gardons toujours cette positions 
		
	\section{Son}
		Nous avions d\'ej\`a, lors de la premi \`ere soutenance, des musiques diff\`erentes en fonction de l'\`etat de jeu. Nous en modifierons s\^urement quelques unes, mais cel\`a n'est pas essentiel au projet. C'est pourquoi nous nous pencherons sur ce d\`etail lrosque tout le reste sera termin\'e.\\
		\indent Le plus important actuellement est de rajouter des sons au cours du jeu : peur les collisions, pour les moment o\`u la barre de vie est trop basse ou qu'elle augmente gr\^ace \`a un bonbon.. Mais encore une fois, nous nous pencherons sur ce travail plus tard car nous pensons \`a rajouter encore diff\'erents types de bonbons, ou des bonus


	\section{\'Editeur de maps}
		L'éditeur était un élément un peu a part dans notre projet. Nous nous en étions pas \'normement servi pour la soutenance précédente, car nous l'avions terminer un peu tardivement, et que le projet n'était pas suffisement avancé pour nous en ayons r'eellement besoin.
		
		
		
		
		
\chapter{Les modifications}
	\section{Mode de Jeu}
		Pour cette seconde soutenance, les deux modes de jeux existants ont ete modifié.
		Il était nécessaire d'améliorer ces modes, aussi bien pour ralonger la durée de vie du jeux, que pour l'embellir et le rendre plus agréable \`a jouer.
		
		\subsection{Story}
			Nous avons donc modifié notre mode histoire afin qu'il ressemble plus a ce que l'on a l'habitude de trouver dans la plupart des jeux. Pour commencer, nous avans rajout\'e des niveaux. Nous avons donc mis en place un menu vous permettant de choisir le niveau, et donc la map sur laquelle vous voulez jouer, \`a condition bien s\^ur de l'avoir debloqu\'ee en arrivantt au moins une fois à bout du niveau pr\'ec\'edent. Il y a aujourd'hui neuf maps disponibles o\`u la difficult\'e augmente au fur et \`a mesure que l'on avance dans les niveaux. \`A l'aide de l'\'editeur de map, il n'a pas \'et\'e compliqu\'e de cr\'eer chaque map et cela a \'et\'e un gros avantage. Cependant, cette t\^ache a pris du temps car nous voulions des maps assez longues, et ce n'est pas la partie la plus int\'eressante du projet. Nous nous y sommes donc mis tous ensemble pour venir à bout de ce travail. Par la suite, chaque membre du groupe a test\'e les diff\'erentes maps pour v\'erifier quelles soient toutes jouables sans qu'elles soient trop simple : il serait dommage d'avoit du contenu qui ne soit pas exploitable par le joueur.\\
			\indent Afin d'\'etoffer notre projet, nous avons fait quelques niveaux avec des propriétés particuli\`eres. Par exemple, dans le monde 8, la gravité est inversée. Dans le monde 5, certains blocs se détruisent au contact de l'oiseau, en lui faisant baisser sa barre de vie. Cela apporte une difficult\'e en plus, et nous en rajouterons probablement d'autres plus tard. Cette initiative nous a amen\'es \`a travailler \`a nouveau sur les collisions, ainsi que sur le moteur physique. En effet, il fallait forcement pouvoir adapter ces deux derniers afin de les rendre modulables en fonction de la map jouée.							
				
			
			
		\subsection{Infini}
			Le mode Infini est une des plus grosses parties du jeu car c'est en générale ce que les utilisateurs préfèrent. Etant nous même des utilisateurs potentiels de CandyBird, nous savons que le système de comparaison de score sur le site est très apprécié.
						
			Lors de la dernière soutenance nous avions déjà bien avancé. Nous avons tout de même modifié les apparitions aléatoire des blocs car ce mode manquait d'harmonie.\\
						
						
			Cette nouvelle version est beaucoup plus "logique" en terme de jouabilité. Puisque le problème était l’enchaînement des blocs, pourquoi ne pas rendre cette génération standard afin de régler cette génération quasi impossible a franchir. Nous avons donc choisit de préparer de nombreux patterns, tous de même longueur, commençant et se terminant toujours par les mêmes blocs. Ainsi c'est l’enchaînement des pattern qui se fait de façon aléatoire et le map infini crée reste tout a fait jouable. En faite ce principe suit le même principe que si les différents mondes s’enchaînaient infiniment et de façon aléatoire les uns après les autres, sauf que ce ne sont pas les mêmes mondes.
						
			Par la suite il nous suffira de rajouter des patterns et des bonus afin d'augmenter la diversité des décors et la jouabilité.
			
			
\newpage
	\section{Moteur Physique}
		Depuis la derni\`ere soutenance nous avons compl\`etement revue le moteur physique. Nous nous sommes fait la remarque qu'un jeu bas\'e sur un oiseau qui vole n\'ecessite un bon moteur physique. C'est donc Mattou qui s'est attel\'ee \`a cette t\^ache. Elle a commenc\'e en modifiant le code initial, mais les probl\`emes s'accumulaient et elle n'arrivait pas \`a tous les arranger. Elle a donc fini par prendre la d\'ecision de repartir de z\'ero. Cela lui a fait perdre du temps, mais pas en vain car le jeu poss\'ede maintenant un moteur physique qui lui donne un effet plus r\'ealiste. En effet, au lieu de simplement monter et descendre avec une vitesse constante, il saute maintenant en suivant une certaine acc\'el\'eration qui simule les propri\'et\'es physiques d'un corps en chute libre. Cela donne donc au joueur une impression de gravit\'e. Mattou a \'egalement fait attention \'a ce que le nouveau moteur physique soit facilement adaptable \'a des propri\'et\'es physiques plus particuli\`res, pour pouvoir faire varier la difficult\'e d'un niveau \`a un autre. Le moteur physique du jeu a donc \'et\'e nettement am\'elor\'e. \\
		\indent Une fois que nous avons jugé la trajectoire de l'oiseau satisfaisante, il a fallu se pencher sur les collisions. Comme dit précédemment, elles ne fonctionnaient pas toutes parfaitement. Et nous ne pouvions pas nous contenter de réparer les erreurs à-partir du code existant, car étant donné les modifications au niveau du mode histoire, il nous fallait un code modulable et facile à adapter à chaque niveau. Pour le niveau 8 par exemple, les collisions ne sont pas gérées de la meme manière car si l'oiseau touche un bloc qui est en-dessous de lui, il ne doit pas pouvoir se poser étant donné que le centre de gravité est au-dessus de lui. Pour le niveau 5, les blocs n'empêchent pas forcément l'oiseau d'avancer en fonction de leur nature. Certains disparaissent seulement, et affaiblissent l'oiseau. Tous ces détails demandent un moteur physique adapté pour chaque map. Nous avons donc maintenant des collisions qui fonctionnent toutes sans exception.
		
		
	\section{Editeur de Maps}
		Nous avons apporté quelques modifications a notre éditeur de maps car nous n'avions pas encore vu ses limites, tout d'abord il fallu tout d'abord revoir l'initialisation de la map, car nous étions bloqué avec une longueur de 100 cubes dans la longueur, ce qui rendait les parties trés courtes, aujourd'hui il est possible de créer des maps d'une longueur de 1 000 cubes par lignes, ce qui est largement suffisant pour le moment car les maps que nous créons pour le mode story sont d'une longueur de 500 cubes par lignes, nous estimons que cela est largement suffisant pour que le joueur puisse s'amuser.\\
				
		\indent Nous avons aussi du revoir le chargement des maps existantes. En effet, lors de la soutenance précédente nous n'avions pas pensé a ce genre d'utilisation. Il s'avère que cela est très pratique lors des tests des nouvelles maps car au début nous ne pouvions rien faire si la map se trouvait \^etre infaisable. En réalité nous pouvions modifier, en ouvrqnt la maps sur un éditeur de texte tel que notepad et changer la valeur de la case \`a la main, mais cette solution n'était pas envisageable \`a grande échelle. C'est pourquoi nous avons incorporé une fonction permettant de charger des maps dans l'éditeur de maps afin de les modifier aussi facilement qu'on les créer.
		
\chapter{Les nouveautés}
	\section{Le Réseau}
	
\chapter{Avancement du Projet}
	\renewcommand{\arraystretch}{2}
	\setlength{\tabcolsep}{0.7cm}
	\begin{tabular}{|c|c|c|}
	\hline  & premi\`ere soutenance & deuxi\`eme soutenance\\ 
	\hline Moteur Physique & 50\% & 95\% \\ 
	\hline \'Editeur de maps & 60\% & 90\% \\ 
	\hline Son & 80\% & 85\% \\ 
	\hline Mode Histoire & 50\% &  80\%\\ 
	\hline Mode Infini & 50\% & 90\% \\ 
	\hline Réseau &  0\% & 90\% \\ 
	\hline Graphismes & 60\% & 60\% \\ 
	\hline Site internet & 80\% & 85\% \\ 
	\hline
	\end{tabular} 
	
	
	
	
\chapter{La suite}
	\section{Graphisme}
	\section{Editeur de map}
		Nous pensons ajouter directement notre éditeur de map a notre jeu dans le but de faciliter la possibilité pour le joueur de créer des maps. En effet jusqu'à présent nous étions obligés de lancer l'éditeur de map en dehors de notre jeu qui lui est pourtant entièrement dédié, cependant nous pensons qu'il serait plus simple pour le joueur de pouvoir accéder à l'éditeur directement depuis le jeu, sans avoir à passer par un autre logiciels complètement détaché de ce dernier. 
\chapter*{Conclusion}
\end {document}